Temat 2 -\/ Demon synchronizujący dwa podkatalogi \mbox{[}12p.\mbox{]} Program który otrzymuje co najmniej dwa argumenty\+: ścieżkę źródłową oraz ścieżkę docelową . Jeżeli któraś ze ścieżek nie jest katalogiem program powraca natychmiast z komunikatem błędu. W przeciwnym wypadku staje się demonem. Demon wykonuje następujące czynności\+: śpi przez pięć minut (czas spania można zmieniać przy pomocy dodatkowego opcjonalnego argumentu), po czym po obudzeniu się porównuje katalog źródłowy z katalogiem docelowym. Pozycje które nie są zwykłymi plikami są ignorowane (np. katalogi i dowiązania symboliczne). Jeżeli demon (a) napotka na nowy plik w katalogu źródłowym, i tego pliku brak w katalogu docelowym lub (b) plik w katalogu źrodłowym ma późniejszą datę ostatniej modyfikacji demon wykonuje kopię pliku z katalogu źródłowego do katalogu docelowego -\/ ustawiając w katalogu docelowym datę modyfikacji tak aby przy kolejnym obudzeniu nie trzeba było wykonać kopii (chyba ze plik w katalogu źródłowym zostanie ponownie zmieniony). Jeżeli zaś odnajdzie plik w katalogu docelowym, którego nie ma w katalogu źródłowym to usuwa ten plik z katalogu docelowego. Możliwe jest również natychmiastowe obudzenie się demona poprzez wysłanie mu sygnału SIGUSR1. Wyczerpująca informacja o każdej akcji typu uśpienie/obudzenie się demona (naturalne lub w wyniku sygnału), wykonanie kopii lub usunięcie pliku jest przesłana do logu systemowego. Informacja ta powinna zawierać aktualną datę. a) \mbox{[}10p.\mbox{]} Dodatkowa opcja -\/R pozwalająca na rekurencyjną synchronizację katalogów (teraz pozycje będące katalogami nie są ignorowane). W szczególności jeżeli demon stwierdzi w katalogu docelowym ~\newline
 podkatalog którego brak w katalogu źródłowym powinien usunąć go wraz z zawartością. b) \mbox{[}12p.\mbox{]} W zależności od rozmiaru plików dla małych plików wykonywane jest kopiowanie przy pomocy read/write a w przypadku dużych przy pomocy mmap/write (plik źródłowy) zostaje zamapowany w całości w pamięci. Próg dzielący pliki małe od dużych może być przekazywany jako opcjonalny argument. Uwagi\+: (a) Wszelkie operacje na plikach i tworzenie demona należy wykonywać przy pomocy API Linuksa a nie standardowej biblioteki języka C (b) kopiowanie za każdym obudzeniem całego drzewa katalogów zostanie potraktowane jako poważny błąd (c) podobnie jak przerzucenie części zadań na shell systemowy (funkcja system). Demon którego głównym zadaniem jest utrzymywanie tej samej zawartości pomiędzy dwoma katalogami.~\newline
 Po podaniu katalogu źródłowego i docelowego demon rozpoczyna swoją pracę.~\newline
 Dodatkowo jest opcja aby program działał rekurencyjnie.\hypertarget{_tre_xC5_x9B_xC4_x87_Inicjalizacja}{}\doxysection{Inicjalizacja}\label{_tre_xC5_x9B_xC4_x87_Inicjalizacja}
\hypertarget{_tre_xC5_x9B_xC4_x87_Parametry}{}\doxysubsection{Parametry}\label{_tre_xC5_x9B_xC4_x87_Parametry}
Parametr 1\+: Folder źródłowy~\newline
 Parametr 2\+: Folder docelowy~\newline
 Parametr 3\+: Wielkość która będzie dzeliła pliki na \char`\"{}małe\char`\"{} i \char`\"{}duże\char`\"{}~\newline
 Parametr 4(opcjonalny)\+: -\/R, służy do przeszukiwania rekurencyjnego \hypertarget{_tre_xC5_x9B_xC4_x87_Działanie}{}\doxysubsection{Działanie}\label{_tre_xC5_x9B_xC4_x87_Działanie}
Program działa w tle jako demon. Co 5 minut sprawdza stan folderów.~\newline
 Jeżeli został znaleziony plik który znajduje się w katalogu źródłowym, a nie ma go w docelowym, zostaje do niego skopiowany. Jeżeli plik istnieje zarówno w folderze źródłowym i docelowym zostaje sprawdzona data modyfikacji, od której zależy dalsza praca, jeżeli plik ma nowszą datę w folderze źródłowym zostaje skopiowany do folderu docelowego, w innym wypadku nic się nie dzieje Jeżeli w folderze docelowym zostaje znaleziony plik któego nie ma w folderze źródłowym zostaje on usunięty.~\newline
 Jeżeli została wybrana opcja -\/R zostają sprawdzane również katalogi, i ich zawartości, z folderów źródłowego i docelowego.~\newline
\hypertarget{_tre_xC5_x9B_xC4_x87_Autorzy}{}\doxysection{Autorzy}\label{_tre_xC5_x9B_xC4_x87_Autorzy}
Mateusz Kondraciuk~\newline
 Jakub Franciszek Modzelewski \hypertarget{_tre_xC5_x9B_xC4_x87_Prowadzący}{}\doxysection{Prowadzący}\label{_tre_xC5_x9B_xC4_x87_Prowadzący}
dr inż. Wojciech Kwedlo 